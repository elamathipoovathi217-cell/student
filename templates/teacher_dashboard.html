{% extends 'base.html' %}
{% block content %}
<h2>Teacher Performance Dashboard</h2>
<h3>Subject-wise analysis</h3>
<table>
<tr><th>Department</th><th>Average Internal Marks</th></tr>
{% for row in subject_analysis %}
<tr><td>{{ row.department }}</td><td>{{ '%.2f'|format(row.avg_marks or 0) }}</td></tr>
{% endfor %}
</table>

<h3>Individual student analysis</h3>
<table>
<tr><th>Reg No</th><th>Name</th><th>Department</th><th>Attendance</th><th>Internal 1</th><th>Internal 2</th></tr>
{% for row in student_analysis %}
<tr><td>{{ row.registration_no }}</td><td>{{ row.name }}</td><td>{{ row.department }}</td><td>{{ row.attendance }}</td><td>{{ row.internal1 }}</td><td>{{ row.internal2 }}</td></tr>
{% endfor %}
</table>
{% endblock %}
